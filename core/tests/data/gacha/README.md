# 抽卡记录合并测试用例

本测试集用于验证抽卡记录合并功能的正确性。测试基于一份完整的抽卡记录(full_record.json)，通过不同的分割方式来模拟实际场景中可能遇到的数据合并情况。

## 测试场景说明

测试假设：
1. 抽卡记录按时间顺序排列
2. 十连抽数据不会中断
3. 至少有一组数据是最新的

### Split1 - 基础分割测试
模拟最基本的数据分割场景，将完整记录分为两部分：
- base.json: 包含较早的抽卡记录
- other.json: 包含较新的抽卡记录
这种分割方式模拟了最常见的情况：新获取的抽卡记录与已存储的历史记录合并。

### Split2 - 重叠分割测试
模拟数据存在重叠的情况：
- base.json: 包含一段完整的历史记录
- other.json: 包含部分重叠的记录以及新记录
这种分割方式测试了当两份数据存在重叠部分时的合并逻辑。

### Split3 - 空记录测试
模拟一方为空记录的情况：
- base.json: 空记录
- other.json: 包含完整记录
这种分割方式测试了与空记录合并的边界情况。

### Split4 - 十连抽分割测试
模拟十连抽记录被分割的情况：
- base.json: 包含一次十连抽的前5条记录(2024-08-12 09:48:19)
- other.json: 包含该十连抽的后5条记录
这种分割方式测试了十连抽记录被分割时的合并逻辑，确保合并后十连抽的完整性和顺序。

## 测试要点

1. 时间顺序保证
   - 确保合并后的记录按时间降序排列
   - 验证同一时间戳的记录(十连抽)内部顺序保持不变

2. 数据完整性
   - 确保没有重复记录
   - 确保没有记录丢失
   - 验证合并后的总记录数正确

3. 双向合并验证
   - 测试用例会对每组数据进行正反向合并测试
   - 确保无论合并顺序如何，最终结果都与完整记录一致